---
openapi: 3.1.0
info:
  title: Bluebricks API
  version: 1.0.0
components:
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    Role:
      title: Role
      type: object
      additionalProperties: false
      required:
      - id
      - name
      - description
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
    User:
      title: User
      type: object
      additionalProperties: false
      required:
      - id
      - name
      - email
      - roles
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
        picture:
          type: string
        roles:
          type: array
          items:
            "$ref": "#/components/schemas/Role"
        first_name:
          type: string
        last_name:
          type: string
        nickname:
          type: string
        created_at:
          type: string
    Task User Creator:
      title: Task User Creator
      type: object
      additionalProperties: false
      required:
      - id
      - name
      properties:
        id:
          type: string
        name:
          type: string
        nickname:
          type: string
        picture:
          type: string
    Organization:
      title: Organization
      type: object
      additionalProperties: false
      required:
      - id
      - name
      - display_name
      properties:
        id:
          type: string
        name:
          type: string
        display_name:
          type: string
        branding:
          type: object
          additionalProperties: true
        metadata:
          type: object
          additionalProperties: true
    Invitees:
      title: Invitees
      type: array
      items:
        type: object
        additionalProperties: false
        required:
        - email
        properties:
          email:
            type: string
            format: email
          role:
            type: string
    Organization Member:
      title: Organization Member
      type: object
      additionalProperties: false
      required:
      - id
      - name
      - email
      - roles
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
        picture:
          type: string
        roles:
          type: array
          items:
            "$ref": "#/components/schemas/Role"
    Package:
      title: Package
      type: object
      additionalProperties: false
      required:
      - name
      - version
      - created
      - downloads
      - owner
      - organization
      properties:
        name:
          type: string
        version:
          type: string
        url:
          type:
          - 'null'
          - string
        created:
          type: string
        verified_at:
          type:
          - 'null'
          - string
        downloads:
          type: number
        description:
          type:
          - 'null'
          - string
        owner:
          type: string
        organization:
          type: string
    Package with metadata:
      title: Package with metadata
      type: object
      additionalProperties: false
      required:
      - name
      - version
      - created
      - downloads
      - owner
      - organization
      - blueprint_metadata
      properties:
        name:
          type: string
        version:
          type: string
        url:
          type:
          - 'null'
          - string
        created:
          type: string
        verified_at:
          type:
          - 'null'
          - string
        downloads:
          type: number
        description:
          type:
          - 'null'
          - string
        owner:
          type: string
        organization:
          type: string
        blueprint_metadata:
          type: object
          properties:
            published_environment:
              type: array
              items:
                "$ref": "#/components/schemas/Environment with Cloud"
            downloaded_by:
              type: string
            downloaded_at:
              type: string
          required:
          - published_environment
          - downloaded_by
          - downloaded_at
    Package with enable property:
      title: Package with enable property
      type: object
      additionalProperties: false
      required:
      - name
      - version
      - created
      - downloads
      - owner
      - organization
      - enabled
      properties:
        name:
          type: string
        version:
          type: string
        url:
          type:
          - 'null'
          - string
        created:
          type: string
        verified_at:
          type:
          - 'null'
          - string
        downloads:
          type: number
        description:
          type:
          - 'null'
          - string
        owner:
          type: string
        organization:
          type: string
        enabled:
          type: boolean
    Bricks Package:
      title: Bricks Package
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        version:
          type: string
        author:
          type: string
        repository:
          type: object
          properties:
            type:
              type: string
            url:
              type: string
          required:
          - type
          - url
          additionalProperties: false
        props:
          type: object
          additionalProperties:
            type: object
            properties:
              type:
                type: string
              description:
                type: string
              default: {}
              value: {}
            additionalProperties: true
        native:
          type: object
          additionalProperties: true
        outs:
          type: object
          additionalProperties: true
        state:
          type: string
          enum:
          - managed
          - unmanaged
        packages:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              name:
                type: string
              version:
                type: string
              props:
                type: object
                additionalProperties: true
              path:
                type: string
            additionalProperties: true
      required:
      - name
      - version
      additionalProperties: true
    Cloud Account:
      title: Cloud Account
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        provider:
          type: string
          enum:
          - aws
          - gcp
          - azure
        slug:
          type: string
        is_active:
          type: boolean
        created:
          type: string
        cloud_account:
          type: string
        assume_role_arn:
          type: string
        external_id:
          type: string
      required:
      - id
      - name
      - provider
      - slug
      - is_active
      - created
      - cloud_account
      - assume_role_arn
      - external_id
      additionalProperties: false
    Environment:
      title: Environment
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        slug:
          type: string
        color:
          type: string
        is_default:
          type: boolean
        is_active:
          type: boolean
        created:
          type: string
        cloud_account:
          type:
          - 'null'
          - string
          format: uuid
      required:
      - id
      - name
      - slug
      - color
      - is_default
      - is_active
      - created
      additionalProperties: false
    Environment with Cloud:
      title: Environment with Cloud
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        slug:
          type: string
        color:
          type: string
        is_default:
          type: boolean
        is_active:
          type: boolean
        created:
          type: string
        cloud_account:
          "$ref": "#/components/schemas/Cloud Account"
      required:
      - id
      - name
      - slug
      - color
      - is_default
      - is_active
      - created
      additionalProperties: false
    Environment with Cloud and Latest Deployment:
      title: Environment with Cloud and Latest Deployment
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        slug:
          type: string
        color:
          type: string
        is_default:
          type: boolean
        is_active:
          type: boolean
        created:
          type: string
        cloud_account:
          "$ref": "#/components/schemas/Cloud Account"
        latest_deployment:
          "$ref": "#/components/schemas/Latest Deployment"
      required:
      - id
      - name
      - slug
      - color
      - is_default
      - is_active
      - created
      additionalProperties: false
    Environment Props:
      title: Environment Props
      type: object
      properties:
        environment:
          type: object
          properties:
            guid:
              type: string
              format: uuid
            slug:
              type: string
          required:
          - guid
          - slug
          additionalProperties: false
        props:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              content:
                type: string
            required:
            - name
            - content
            additionalProperties: false
      required:
      - environment
      - props
      additionalProperties: false
    Environment Props For List:
      title: Environment Props For List
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        content:
          type: string
        created_by:
          type: string
        created:
          type: string
        updated:
          type:
          - 'null'
          - string
        environment:
          type: string
          format: uuid
      required:
      - id
      - name
      - content
      - created_by
      - created
      - updated
      - environment
      additionalProperties: false
    Terraform Plan Object Change:
      title: Terraform Plan Object Change
      type: object
      properties:
        type:
          type: string
          enum:
          - object
        action:
          type: string
          enum:
          - unchanged
          - add
          - change
          - destroy
        properties:
          type: object
          additionalProperties:
            "$ref": "#/components/schemas/Terraform Plan Change"
        rawFrom:
          type: object
          additionalProperties: true
        rawTo:
          type: object
          additionalProperties: true
        force_replace:
          type: boolean
      required:
      - type
      - action
      - properties
      additionalProperties: false
    Terraform Plan Array Change:
      title: Terraform Plan Array Change
      type: object
      properties:
        type:
          type: string
          enum:
          - array
        action:
          type: string
          enum:
          - unchanged
          - add
          - change
          - destroy
        items:
          type: array
          items:
            "$ref": "#/components/schemas/Terraform Plan Change"
        rawFrom:
          type: array
        rawTo:
          type: array
        force_replace:
          type: boolean
      required:
      - type
      - action
      - items
      additionalProperties: false
    Terraform Plan Mixed Change:
      title: Terraform Plan Mixed Change
      type: object
      properties:
        type:
          type: string
          enum:
          - mixed
        action:
          type: string
          enum:
          - unchanged
          - add
          - change
          - destroy
        state:
          "$ref": "#/components/schemas/Terraform Plan Change"
        planned:
          "$ref": "#/components/schemas/Terraform Plan Change"
        rawFrom: {}
        rawTo: {}
        force_replace:
          type: boolean
      required:
      - type
      - action
      - state
      - planned
      additionalProperties: false
    Terraform Plan Primitive Change:
      title: Terraform Plan Primitive Change
      type: object
      properties:
        type:
          type: string
          enum:
          - empty
          - number
          - string
          - boolean
          - any
        action:
          type: string
          enum:
          - unchanged
          - add
          - change
          - destroy
        state: {}
        desired: {}
        planned: {}
        force_replace:
          type: boolean
      required:
      - type
      - action
      additionalProperties: false
    Terraform Plan Change:
      title: Terraform Plan Change
      oneOf:
      - "$ref": "#/components/schemas/Terraform Plan Primitive Change"
      - "$ref": "#/components/schemas/Terraform Plan Mixed Change"
      - "$ref": "#/components/schemas/Terraform Plan Array Change"
      - "$ref": "#/components/schemas/Terraform Plan Object Change"
    Terraform Plan Resource:
      title: Terraform Plan Resource
      type: object
      properties:
        requires_replacement:
          type: boolean
          nullable: true
        driftMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        plannedMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        properties:
          type: object
          additionalProperties:
            "$ref": "#/components/schemas/Terraform Plan Change"
    Terraform State Resource:
      title: Terraform State Resource
      type: object
      properties:
        mode:
          type: string
        properties:
          type: object
          additionalProperties:
            type: object
            properties:
              type:
                type: string
                enum:
                - empty
                - array
                - object
                - mixed
                - number
                - string
                - boolean
                - any
              bbxStatus:
                type: string
                enum:
                - managed
                - unmanaged
              value: {}
    Artifact Deployment:
      title: Artifact Deployment
      type: object
      properties:
        deployment:
          type: string
          format: uuid
        task:
          type: string
          format: uuid
        parent:
          type:
          - 'null'
          - string
          format: uuid
        name:
          type: string
        version:
          type: string
        type:
          type: string
          enum:
          - blueprint
          - artifact
        stage:
          type: string
          enum:
          - pending
          - planning
          - no_change
          - planned
          - plan_approved
          - installing
          - canceled
          - completed
          - error
        is_archived:
          type: boolean
        created:
          type: string
        timestamp:
          type: string
        errors:
          oneOf:
          - type: 'null'
          - "$ref": "#/components/schemas/Task Error"
        plan_file_url:
          type:
          - 'null'
          - string
        state_file_url:
          type:
          - 'null'
          - string
        requires_replacement:
          type: boolean
          nullable: true
        driftMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        plannedMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        plannedResourcesMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        stateMetadata:
          type: object
          properties:
            managed:
              type: number
            unmanaged:
              type: number
          additionalProperties: false
        parsed:
          type: object
          properties:
            type:
              type: string
              enum:
              - plan
              - state
            data:
              type: object
              oneOf:
              - type: object
                properties:
                  requires_replacement:
                    type: boolean
                    nullable: true
                  driftMetadata:
                    type: object
                    properties:
                      unchanged:
                        type: number
                      add:
                        type: number
                      change:
                        type: number
                      destroy:
                        type: number
                    additionalProperties: false
                  plannedMetadata:
                    type: object
                    properties:
                      unchanged:
                        type: number
                      add:
                        type: number
                      change:
                        type: number
                      destroy:
                        type: number
                    additionalProperties: false
                  plannedResourcesMetadata:
                    type: object
                    properties:
                      unchanged:
                        type: number
                      add:
                        type: number
                      change:
                        type: number
                      destroy:
                        type: number
                    additionalProperties: false
                  resources:
                    type: object
                    additionalProperties:
                      oneOf:
                      - type: 'null'
                      - "$ref": "#/components/schemas/Terraform Plan Resource"
                required:
                - driftMetadata
                - plannedMetadata
                - plannedResourcesMetadata
                - resources
                additionalProperties: false
              - type: object
                properties:
                  stateMetadata:
                    type: object
                    properties:
                      managed:
                        type: number
                      unmanaged:
                        type: number
                    additionalProperties: false
                  resources:
                    type: object
                    additionalProperties:
                      oneOf:
                      - type: 'null'
                      - "$ref": "#/components/schemas/Terraform State Resource"
                required:
                - stateMetadata
                - resources
                additionalProperties: false
          required:
          - type
          - data
      required:
      - deployment
      - task
      - name
      - version
      - type
      - stage
      - is_archived
      - timestamp
      - errors
      additionalProperties: false
    Blueprint Deployment:
      title: Blueprint Deployment
      type: object
      properties:
        deployment:
          type: string
          format: uuid
        task:
          type: string
          format: uuid
        parent:
          type:
          - 'null'
          - string
          format: uuid
        name:
          type: string
        version:
          type: string
        type:
          type: string
          enum:
          - blueprint
          - artifact
        stage:
          type: string
          enum:
          - pending
          - planning
          - no_change
          - planned
          - plan_approved
          - installing
          - canceled
          - completed
          - error
        is_archived:
          type: boolean
        created:
          type: string
        timestamp:
          type: string
        errors:
          oneOf:
          - type: 'null'
          - "$ref": "#/components/schemas/Task Error"
        user:
          "$ref": "#/components/schemas/Task User Creator"
        slug:
          type:
          - 'null'
          - string
        origin_state_location:
          type:
          - 'null'
          - string
        environment:
          "$ref": "#/components/schemas/Environment with Cloud"
        requires_replacement:
          type: boolean
          nullable: true
        driftMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        plannedMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        plannedResourcesMetadata:
          type: object
          properties:
            unchanged:
              type: number
            add:
              type: number
            change:
              type: number
            destroy:
              type: number
          additionalProperties: false
        stateMetadata:
          type: object
          properties:
            managed:
              type: number
            unmanaged:
              type: number
          additionalProperties: false
        children:
          type: array
          items:
            "$ref": "#/components/schemas/Artifact Deployment"
      required:
      - deployment
      - task
      - name
      - version
      - type
      - stage
      - is_archived
      - timestamp
      - errors
      - user
      - slug
      - origin_state_location
      additionalProperties: false
    Deployment:
      title: Deployment
      type: object
      oneOf:
      - "$ref": "#/components/schemas/Artifact Deployment"
      - "$ref": "#/components/schemas/Blueprint Deployment"
    Latest Deployment:
      title: Latest Deployment
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
          enum:
          - blueprint
          - artifact
        name:
          type: string
        version:
          type: string
        stage:
          type: string
          enum:
          - pending
          - planning
          - no_change
          - planned
          - plan_approved
          - installing
          - canceled
          - completed
          - error
        timestamp:
          type: string
        user:
          "$ref": "#/components/schemas/Task User Creator"
      required:
      - id
      - type
      - name
      - version
      - stage
      - timestamp
      - user
      additionalProperties: false
    Deployment Props:
      title: Deployment Props
      type: object
      required:
      - package
      - version
      - env
      - props
      properties:
        package:
          type: string
        version:
          type: string
        env:
          type: string
        props:
          type: object
          additionalProperties: true
    Deployment Status:
      title: Deployment Status
      type: object
      properties:
        deployment:
          type: string
          format: uuid
        type:
          type: string
          enum:
          - blueprint
          - artifact
        name:
          type: string
        version:
          type: string
        stage:
          type: string
          enum:
          - pending
          - planning
          - no_change
          - planned
          - plan_approved
          - installing
          - canceled
          - completed
          - error
        errors:
          oneOf:
          - type: 'null'
          - "$ref": "#/components/schemas/Task Error"
        created:
          type: string
        updated:
          type:
          - 'null'
          - string
        completed:
          type:
          - 'null'
          - string
      required:
      - deployment
      - type
      - name
      - version
      - stage
      - created
      - updated
      - completed
      - errors
      additionalProperties: false
    Task Deployment:
      title: Task Deployment
      type: object
      properties:
        guid:
          type: string
          format: uuid
        parent:
          type:
          - 'null'
          - string
          format: uuid
        taskId:
          type: string
          format: uuid
        depend:
          type:
          - 'null'
          - string
          format: uuid
        stage:
          type: string
          enum:
          - pending
          - planning
          - no_change
          - planned
          - plan_approved
          - installing
          - canceled
          - completed
          - error
        type:
          type: string
          enum:
          - blueprint
          - artifact
        plan_file:
          type:
          - 'null'
          - string
        state_file:
          type:
          - 'null'
          - string
        origin_state_location:
          type:
          - 'null'
          - string
        slug:
          type:
          - 'null'
          - string
        package:
          type: object
          properties:
            qualified_name:
              type: string
            url:
              type:
              - 'null'
              - string
            version:
              type: string
          required:
          - qualified_name
          - url
          - version
      required:
      - guid
      - taskId
      - stage
      - type
      - package
      - slug
    Plan:
      title: Plan
      type: object
      properties:
        name:
          type: string
        deployment:
          type: string
          format: uuid
        parsed:
          type: object
          properties:
            data:
              type: object
              properties:
                requires_replacement:
                  type: boolean
                  nullable: true
                driftMetadata:
                  type: object
                  properties:
                    unchanged:
                      type: number
                    add:
                      type: number
                    change:
                      type: number
                    destroy:
                      type: number
                  additionalProperties: false
                plannedMetadata:
                  type: object
                  properties:
                    unchanged:
                      type: number
                    add:
                      type: number
                    change:
                      type: number
                    destroy:
                      type: number
                  additionalProperties: false
                plannedResourcesMetadata:
                  type: object
                  properties:
                    unchanged:
                      type: number
                    add:
                      type: number
                    change:
                      type: number
                    destroy:
                      type: number
                  additionalProperties: false
                resources:
                  type: object
                  additionalProperties:
                    oneOf:
                    - type: 'null'
                    - "$ref": "#/components/schemas/Terraform Plan Resource"
              required:
              - driftMetadata
              - plannedMetadata
              - plannedResourcesMetadata
              - resources
              additionalProperties: false
          required:
          - data
          additionalProperties: false
      required:
      - name
      - deployment
      - parsed
      additionalProperties: false
    Task:
      title: Task
      type: object
      properties:
        taskId:
          type: string
          format: uuid
        command:
          type: string
        user:
          type: string
        organization:
          type: string
        stage:
          type: string
          enum:
          - pending
          - processing
          - no_change
          - waiting_for_input
          - pending_install
          - installing
          - completed
          - failed
          - canceled
        environment:
          "$ref": "#/components/schemas/Environment with Cloud"
        props:
          type:
          - 'null'
          - object
          additionalProperties: true
        deployments:
          type: array
          items:
            "$ref": "#/components/schemas/Task Deployment"
      required:
      - taskId
      - command
      - user
      - organization
      - deployments
    Task Error:
      title: Task Error
      type: array
      items:
        type: object
        properties:
          message:
            type: string
            nullable: true
          code:
            type: number
            nullable: true
          raw:
            type: string
          created:
            type: string
        required:
        - message
        - code
        - raw
        - created
        additionalProperties: false
paths:
  "/api/v1/user/{id}":
    get:
      tags:
      - Users
      description: Return basic information about user by id
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: id
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Information about user
          content:
            application/json:
              schema:
                description: Information about user
                "$ref": "#/components/schemas/User"
        '400':
          description: Failed to fetch user information
          content:
            application/json:
              schema:
                description: Failed to fetch user information
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:users]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:users]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: User not found
          content:
            application/json:
              schema:
                description: User not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/user/{id}/roles":
    post:
      tags:
      - Users
      description: Update roles to user by id
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - roles
              properties:
                roles:
                  type: array
                  items:
                    type: string
                    isNotEmpty: true
                add:
                  type: boolean
              additionalProperties: false
        required: true
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: id
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: User roles updated successfully
          content:
            application/json:
              schema:
                description: User roles updated successfully
                "$ref": "#/components/schemas/Organization Member"
        '400':
          description: Failed to update user roles
          content:
            application/json:
              schema:
                description: Failed to update user roles
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_ADD_ROLES_TO_USER
                    userId:
                      type: string
                    organizationId:
                      type: string
                    roles:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                  - organizationId
                  - roles
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:users]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:users]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: User not found
          content:
            application/json:
              schema:
                description: User not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/organization/roles":
    get:
      tags:
      - Organization
      description: Return all existing roles
      security:
      - bearerAuth: []
      responses:
        '200':
          description: All existing roles
          content:
            application/json:
              schema:
                description: All existing roles
                roles:
                  type: array
                  items:
                    "$ref": "#/components/schemas/Role"
        '400':
          description: Failed to fetch existing roles
          content:
            application/json:
              schema:
                description: Failed to fetch existing roles
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:organization]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:organization]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Roles not found
          content:
            application/json:
              schema:
                description: Roles not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/organization":
    get:
      tags:
      - Organization
      description: Return information about current organization
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Information about organization
          content:
            application/json:
              schema:
                description: Information about organization
                "$ref": "#/components/schemas/Organization"
        '400':
          description: Failed to fetch organization information
          content:
            application/json:
              schema:
                description: Failed to fetch organization information
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:organization]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:organization]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Organization not found
          content:
            application/json:
              schema:
                description: Organization not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    patch:
      tags:
      - Organization
      description: Update current organization
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  isNotEmpty: true
                display_name:
                  type: string
                  isNotEmpty: true
                branding:
                  type: object
                  properties:
                    logo_url:
                      type: string
                      isNotEmpty: true
                  additionalProperties: false
                metadata:
                  type: object
              additionalProperties: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated information about organization
          content:
            application/json:
              schema:
                description: Updated information about organization
                "$ref": "#/components/schemas/Organization"
        '400':
          description: Failed to update organization
          content:
            application/json:
              schema:
                description: Failed to update organization
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_UPDATE_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:organization]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:organization]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/organization/members":
    get:
      tags:
      - Organization
      description: Return members of current organization
      parameters:
      - schema:
          type: number
        in: query
        name: limit
        required: false
      - schema:
          type: number
        in: query
        name: offset
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: List of organization members
          content:
            application/json:
              schema:
                description: List of organization members
                type: object
                required:
                - total
                - members
                properties:
                  total:
                    type: number
                  members:
                    type: array
                    items:
                      "$ref": "#/components/schemas/Organization Member"
                additionalProperties: false
        '400':
          description: Failed to list organization members
          content:
            application/json:
              schema:
                description: Failed to list organization members
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_LIST_ORGANIZATION_MEMBERS
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:users]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:users]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    post:
      tags:
      - Organization
      description: Invite new members current organization
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - invitees
              additionalProperties: false
              properties:
                invitees:
                  "$ref": "#/components/schemas/Invitees"
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Invite details
          content:
            application/json:
              schema:
                description: Invite details
                type: object
                required:
                - invites
                - errors
                properties:
                  invites:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        invitee:
                          type: string
                          format: email
                        organization_id:
                          type: string
                        invitation_url:
                          type: string
                      required:
                      - id
                      - invitee
                      - organization_id
                      - invitation_url
                      additionalProperties: false
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        email:
                          type: string
                          format: email
                        statusCode:
                          type: number
                        error:
                          type: string
                        message:
                          type: string
                      required:
                      - email
                      - statusCode
                      - error
                      - message
                      additionalProperties: false
        '400':
          description: Failed to invite new members
          content:
            application/json:
              schema:
                description: Failed to invite new members
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_INVITE_USERS_TO_ORGANIZATION
                    errorsList:
                      type: array
                      items:
                        type: object
                        additionalProperties: true
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [create:users]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [create:users]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/organization/members/{memberId}":
    delete:
      tags:
      - Organization
      description: Remove member from current organization
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: memberId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Status of remove request
          content:
            application/json:
              schema:
                description: Status of remove request
                type: object
                properties:
                  status:
                    enum:
                    - success
                required:
                - status
                additionalProperties: false
        '400':
          description: Failed remove member
          content:
            application/json:
              schema:
                description: Failed remove member
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_REMOVE_USER_FROM_ORGANIZATION
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [delete:users]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [delete:users]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package":
    get:
      tags:
      - Package
      description: Get extended package details
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: query
        name: name
        required: true
      - schema:
          type: string
        in: query
        name: version
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Package info and bricks.json content
          content:
            application/json:
              schema:
                description: Package info and bricks.json content
                type: object
                required:
                - package_info
                - config
                properties:
                  package_info:
                    "$ref": "#/components/schemas/Package with enable property"
                  config:
                    "$ref": "#/components/schemas/Bricks Package"
        '400':
          description: Failed to fetch package information
          content:
            application/json:
              schema:
                description: Failed to fetch package information
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DESCRIBE_PACKAGE_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MALFORMED_BRICKS_FILE
                    packageName:
                      type: string
                    version:
                      type: string
                    reason:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found
          content:
            application/json:
              schema:
                description: Package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    post:
      tags:
      - Package
      description: Publish package to package registry
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required:
              - package
              - bricks
              properties:
                package:
                  type: string
                  format: binary
                bricks:
                  type: string
                  format: binary
                private:
                  type: boolean
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Information about published package
          content:
            application/json:
              schema:
                description: Information about published package
                "$ref": "#/components/schemas/Package"
        '400':
          description: Failed to publish package
          content:
            application/json:
              schema:
                description: Failed to publish package
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_FILE_UPLOAD_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                    file:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                  - file
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_LOOKUP_FAILED
                    packageName:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NAMESPACE_LOOKUP_FAILED
                    namespace:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - namespace
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - INVALID_PACKAGE_NAME
                    packageName:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILE_LOAD_FAILED
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_PUBLISH_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MALFORMED_BRICKS_FILE
                    packageName:
                      type: string
                    version:
                      type: string
                    reason:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MALFORMED_PACKAGE_FILES
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILE_TYPE_NOT_ALLOWED
                    file:
                      type: string
                    mimetype:
                      type: string
                    allowedExtensions:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - file
                  - mimetype
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [create:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [create:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NAMESPACE_PERMISSION_DENIED
                    namespace:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - namespace
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Child package not found
          content:
            application/json:
              schema:
                description: Child package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '409':
          description: Package or version already exists or namespace is taken
          content:
            application/json:
              schema:
                description: Package or version already exists or namespace is taken
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 409
                    error:
                      type: string
                      enum:
                      - Conflict
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_VERSION_ALREADY_EXISTS
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 409
                    error:
                      type: string
                      enum:
                      - Conflict
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_ALREADY_EXISTS
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/versions":
    get:
      tags:
      - Package
      description: List package details and available versions
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: query
        name: package
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Package info and list of versions
          content:
            application/json:
              schema:
                description: Package info and list of versions
                type: object
                required:
                - package_info
                - versions
                properties:
                  package_info:
                    "$ref": "#/components/schemas/Package"
                  versions:
                    type: array
                    items:
                      type: object
                      properties:
                        version:
                          type: string
                        downloads:
                          type: number
                        created:
                          type: string
                        description:
                          type:
                          - 'null'
                          - string
                      additionalProperties: false
                      required:
                      - version
                      - downloads
                      - created
        '400':
          description: Failed to fetch package version information
          content:
            application/json:
              schema:
                description: Failed to fetch package version information
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_PACKAGE_VERSIONS_FAILED
                    packageName:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found
          content:
            application/json:
              schema:
                description: Package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/search":
    post:
      tags:
      - Package
      description: Search through published packages
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - query
              properties:
                query:
                  type: string
                  isNotEmpty: true
                sort:
                  type: string
                  enum:
                  - created
                  - qualified_name
                  - verified_at
                  - downloads
                  - description
                order:
                  type: string
                  caseInsensitiveEnum:
                  - DESC
                  - ASC
                offset:
                  type: number
                limit:
                  type: number
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: List of packages matching the query
          content:
            application/json:
              schema:
                description: List of packages matching the query
                type: object
                required:
                - packages
                - results
                - total
                properties:
                  packages:
                    type: array
                    items:
                      "$ref": "#/components/schemas/Package with enable property"
                  results:
                    type: number
                  total:
                    type: number
        '400':
          description: Failed to search through packages
          content:
            application/json:
              schema:
                description: Failed to search through packages
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_SEARCH_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - INVALID_PACKAGE_NAME
                    packageName:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORDER_IS_NOT_VALID
                    order:
                      type: string
                    sort:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - order
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - SORT_IS_NOT_VALID
                    sort:
                      type: string
                    order:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - sort
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILTER_IS_NOT_VALID
                    filter:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Author of package not found
          content:
            application/json:
              schema:
                description: Author of package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/status":
    get:
      tags:
      - Package
      description: List enabled package version within the org
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: query
        name: package
        required: true
      - schema:
          type: string
        in: query
        name: version
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: List of enabled versions of a package
          content:
            application/json:
              schema:
                description: List of enabled versions of a package
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    version:
                      type: string
                    created:
                      type: string
                    enabler:
                      type: string
                  additionalProperties: false
                  required:
                  - name
                  - version
                  - created
                  - enabler
        '400':
          description: Failed to get enabled package versions list
          content:
            application/json:
              schema:
                description: Failed to get enabled package versions list
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_PACKAGE_VERSIONS_FOR_ORG_FAILED
                    packageName:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found
          content:
            application/json:
              schema:
                description: Package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/validation/customizable":
    get:
      tags:
      - Package
      description: Validate package properties
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: query
        name: package
        required: true
      - schema:
          type: string
        in: query
        name: version
        required: false
      - schema:
          type: array
          items:
            type: string
        in: query
        name: validate_props
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Validation result for package properties
          content:
            application/json:
              schema:
                description: Validation result for package properties
                type: object
                required:
                - statusCode
                - message
                - details
                properties:
                  statusCode:
                    type: number
                  error:
                    type: string
                  message:
                    type: string
                  details:
                    type: object
                    required:
                    - package
                    - version
                    properties:
                      package:
                        type: string
                      version:
                        type: string
                      suggestion:
                        type: string
                    additionalProperties: false
        '400':
          description: Failed to validate package properties
          content:
            application/json:
              schema:
                description: Failed to validate package properties
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - VALIDATE_PACKAGE_PROPS_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_HAS_NO_PROPS
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PROPS_NOT_EXIST_IN_PACKAGE
                    packageName:
                      type: string
                    version:
                      type: string
                    property:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                  - property
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DESCRIBE_PACKAGE_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MALFORMED_BRICKS_FILE
                    packageName:
                      type: string
                    version:
                      type: string
                    reason:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found
          content:
            application/json:
              schema:
                description: Package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/enable":
    post:
      tags:
      - Package
      description: Enable / disable package version within the org
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - package
              properties:
                package:
                  type: string
                  isNotEmpty: true
                version:
                  type: string
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: New status of a package version
          content:
            application/json:
              schema:
                description: New status of a package version
                type: object
                properties:
                  enabled:
                    type: boolean
                  version:
                    type: string
                additionalProperties: false
                required:
                - enabled
                - version
        '400':
          description: Failed to enable / disable package version
          content:
            application/json:
              schema:
                description: Failed to enable / disable package version
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_VERSION_NOT_ENABLED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MODIFY_PACKAGE_VERSION_FOR_ORG_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found
          content:
            application/json:
              schema:
                description: Package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/disable":
    post:
      tags:
      - Package
      description: Enable / disable package version within the org
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - package
              properties:
                package:
                  type: string
                  isNotEmpty: true
                version:
                  type: string
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: New status of a package version
          content:
            application/json:
              schema:
                description: New status of a package version
                type: object
                properties:
                  enabled:
                    type: boolean
                  version:
                    type: string
                additionalProperties: false
                required:
                - enabled
                - version
        '400':
          description: Failed to enable / disable package version
          content:
            application/json:
              schema:
                description: Failed to enable / disable package version
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_VERSION_NOT_ENABLED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MODIFY_PACKAGE_VERSION_FOR_ORG_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:package].
            Required scopes: [update:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:package].
                  Required scopes: [update:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found
          content:
            application/json:
              schema:
                description: Package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/install":
    post:
      tags:
      - Package
      description: Install package on remote cloud
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - package
              properties:
                package:
                  type: string
                  isNotEmpty: true
                version:
                  type: string
                force:
                  type: boolean
                env:
                  type: string
                slug:
                  type: string
                  isNotEmpty: true
                props:
                  type: object
                  additionalProperties: true
                deployment:
                  type: string
                  isNotEmpty: true
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Created task id for installation process
          content:
            application/json:
              schema:
                description: Created task id for installation process
                type: object
                required:
                - deployment
                - task
                properties:
                  deployment:
                    type: string
                    format: uuid
                  task:
                    type: string
                    format: uuid
        '400':
          description: Failed to start installation
          content:
            application/json:
              schema:
                description: Failed to start installation
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CREATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - VALIDATE_ORIGIN_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_PACKAGE_MISMATCH
                    deploymentPackage:
                      type: string
                    expectedPackage:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentPackage
                  - expectedPackage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_ENV_MISMATCH
                    deploymentEnv:
                      type: string
                      format: uuid
                    expectedEnv:
                      type: string
                      format: uuid
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentEnv
                  - expectedEnv
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_STAGE_MISMATCH
                    deploymentStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                    expectedStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentStage
                  - expectedStage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_TYPE_MISMATCH
                    deploymentType:
                      type: string
                      enum:
                      - blueprint
                      - artifact
                    expectedType:
                      type: string
                      enum:
                      - blueprint
                      - artifact
                    root:
                      type: boolean
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentType
                  - expectedType
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_PACKAGE_VERSIONS_FOR_ORG_FAILED
                    packageName:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_PROPERTY
                    keys:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - keys
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_HAS_NO_PROPS
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_ENVIRONMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_CLOUD_IS_MISSING
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_IS_LOCKED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DESCRIBE_PACKAGE_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MALFORMED_BRICKS_FILE
                    packageName:
                      type: string
                    version:
                      type: string
                    reason:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GENERATE_DEPLOYMENT_SLUG
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [create:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [create:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found or not enabled for organization
          content:
            application/json:
              schema:
                description: Package not found or not enabled for organization
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/package/uninstall":
    post:
      tags:
      - Package
      description: Uninstall package from cloud
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - deployment
              properties:
                deployment:
                  type: string
                  isNotEmpty: true
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Created task id for uninstall process
          content:
            application/json:
              schema:
                description: Created task id for uninstall process
                type: object
                required:
                - deployment
                - task
                properties:
                  deployment:
                    type: string
                    format: uuid
                  task:
                    type: string
                    format: uuid
        '400':
          description: Failed to start uninstall process
          content:
            application/json:
              schema:
                description: Failed to start uninstall process
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CREATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - VALIDATE_ORIGIN_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_PACKAGE_MISMATCH
                    deploymentPackage:
                      type: string
                    expectedPackage:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentPackage
                  - expectedPackage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_ENV_MISMATCH
                    deploymentEnv:
                      type: string
                      format: uuid
                    expectedEnv:
                      type: string
                      format: uuid
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentEnv
                  - expectedEnv
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_STAGE_MISMATCH
                    deploymentStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                    expectedStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentStage
                  - expectedStage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORIGIN_DEPLOYMENT_TYPE_MISMATCH
                    deploymentType:
                      type: string
                      enum:
                      - blueprint
                      - artifact
                    expectedType:
                      type: string
                      enum:
                      - blueprint
                      - artifact
                    root:
                      type: boolean
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deploymentType
                  - expectedType
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [create:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [create:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found or not enabled for organization
          content:
            application/json:
              schema:
                description: Package not found or not enabled for organization
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/packages":
    get:
      tags:
      - Package
      description: List packages used by organization
      parameters:
      - schema:
          type: boolean
        in: query
        name: all
        required: false
      - schema:
          type: boolean
        in: query
        name: latest
        required: false
      - schema:
          type: string
          enum:
          - name
          - owner
          - organization
          - created
          - blueprint_metadata.downloaded_at
        in: query
        name: sort
        required: false
      - schema:
          type: string
          caseInsensitiveEnum:
          - DESC
          - ASC
        in: query
        name: order
        required: false
      - schema:
          type: number
        in: query
        name: offset
        required: false
      - schema:
          type: number
          minimum: 3
          maximum: 1000
        in: query
        name: limit
        required: false
      - schema:
          type: string
        in: query
        name: filter
        required: false
        description: 'Structure: `[key1=value1,key2=value2&value3]`. Filter by `date`,
          `owner`, `organization` and `downloaded_by` are not supported'
      - schema:
          type: string
        in: query
        name: search
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Last completed deployments for an environment
          content:
            application/json:
              schema:
                description: Last completed deployments for an environment
                type: object
                properties:
                  packages:
                    type: array
                    items:
                      "$ref": "#/components/schemas/Package with metadata"
                  total:
                    type: number
                  published:
                    type: number
                  drafts:
                    type: number
                additionalProperties: false
                required:
                - total
                - packages
                - published
                - drafts
        '400':
          description: Failed to get deployments list
          content:
            application/json:
              schema:
                description: Failed to get deployments list
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_PACKAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORDER_IS_NOT_VALID
                    order:
                      type: string
                    sort:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - order
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - SORT_IS_NOT_VALID
                    sort:
                      type: string
                    order:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - sort
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILTER_IS_NOT_VALID
                    filter:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:package]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:package]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: User / Organization not found
          content:
            application/json:
              schema:
                description: User / Organization not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environments":
    get:
      tags:
      - Environments
      description: List available deployment environments
      parameters:
      - schema:
          type: boolean
        in: query
        name: all
        required: false
      - schema:
          type: boolean
        in: query
        name: expand
        required: false
      - schema:
          type: string
        in: query
        name: filter
        required: false
        description: 'Structure: `[key1=value1,key2=value2&value3]`'
      - schema:
          type: number
        in: query
        name: offset
        required: false
      - schema:
          type: number
        in: query
        name: limit
        required: false
      - schema:
          type: string
          enum:
          - name
          - created
          - cloud_account.provider
          - is_active
          - is_default
        in: query
        name: sort
        required: false
      - schema:
          type: string
          caseInsensitiveEnum:
          - DESC
          - ASC
        in: query
        name: order
        required: false
      - schema:
          type: string
        in: query
        name: search
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: List of available deployment environments
          content:
            application/json:
              schema:
                description: List of available deployment environments
                type: object
                required:
                - total
                - stats
                - list
                properties:
                  total:
                    type: number
                  stats:
                    type: object
                    required:
                    - active
                    - cloud_connected
                    properties:
                      active:
                        type: number
                      cloud_connected:
                        type: number
                  list:
                    type: array
                    items:
                      oneOf:
                      - "$ref": "#/components/schemas/Environment"
                      - "$ref": "#/components/schemas/Environment with Cloud and Latest
                          Deployment"
        '400':
          description: Failed to list available environments
          content:
            application/json:
              schema:
                description: Failed to list available environments
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_ENVIRONMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORDER_IS_NOT_VALID
                    order:
                      type: string
                    sort:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - order
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - SORT_IS_NOT_VALID
                    sort:
                      type: string
                    order:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - sort
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILTER_IS_NOT_VALID
                    filter:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environments/props":
    get:
      tags:
      - Environments
      description: List available Environment Props of an organization
      parameters:
      - schema:
          type: string
          enum:
          - name
          - content
          - created
          - updated
          - environment
        in: query
        name: sort
        required: false
      - schema:
          type: string
          caseInsensitiveEnum:
          - DESC
          - ASC
        in: query
        name: order
        required: false
      - schema:
          type: number
        in: query
        name: offset
        required: false
      - schema:
          type: number
        in: query
        name: limit
        required: false
      - schema:
          type: string
        in: query
        name: filter
        required: false
        description: 'Structure: `[key1=value1,key2=value2&value3]`'
      - schema:
          type: string
        in: query
        name: search
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: List of available Environment Props of an organization
          content:
            application/json:
              schema:
                description: List of available Environment Props of an organization
                type: object
                required:
                - total
                - list
                - filters
                properties:
                  total:
                    type: number
                  list:
                    type: array
                    items:
                      "$ref": "#/components/schemas/Environment Props For List"
                  filters:
                    type: object
                    required:
                    - environments
                    - users
                    properties:
                      environments:
                        type: array
                        items:
                          type: object
                          required:
                          - id
                          - name
                          - slug
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                            slug:
                              type: string
                      users:
                        type: array
                        items:
                          type: object
                          required:
                          - name
                          properties:
                            name:
                              type: string
                            picture:
                              type: string
        '400':
          description: Failed to list Environment Props of an organization
          content:
            application/json:
              schema:
                description: Failed to list Environment Props of an organization
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_ENVIRONMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORDER_IS_NOT_VALID
                    order:
                      type: string
                    sort:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - order
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - SORT_IS_NOT_VALID
                    sort:
                      type: string
                    order:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - sort
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILTER_IS_NOT_VALID
                    filter:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environments/{envId}/cloud/{cloudId}":
    post:
      tags:
      - Environments
      description: Assign cloud id to environment
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: envId
        required: true
      - schema:
          type: string
          format: uuid
        in: path
        name: cloudId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated environment
          content:
            application/json:
              schema:
                description: Updated environment
                "$ref": "#/components/schemas/Environment with Cloud"
        '400':
          description: Failed to assign cloud id to environment
          content:
            application/json:
              schema:
                description: Failed to assign cloud id to environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ASSIGN_CLOUD_ACCOUNT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment or cloud account not found
          content:
            application/json:
              schema:
                description: Environment or cloud account not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    delete:
      tags:
      - Environments
      description: Dissociate cloud id from environment
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: envId
        required: true
      - schema:
          type: string
          format: uuid
        in: path
        name: cloudId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated environment
          content:
            application/json:
              schema:
                description: Updated environment
                type: object
                required:
                - id
                - cloud_account
                - message
                properties:
                  id:
                    type: string
                    format: uuid
                  cloud_account:
                    type: string
                    format: uuid
                  message:
                    type: string
                additionalProperties: false
        '400':
          description: Failed to dissociate cloud id from environment
          content:
            application/json:
              schema:
                description: Failed to dissociate cloud id from environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DISSOCIATE_CLOUD_ACCOUNT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment or cloud account not found
          content:
            application/json:
              schema:
                description: Environment or cloud account not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NO_CLOUD_ACCOUNT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CLOUD_ACCOUNT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environment":
    post:
      tags:
      - Environments
      description: Create a deployment environment
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - name
              properties:
                name:
                  type: string
                  isNotEmpty: true
                color:
                  type: string
                  pattern: "^#(?:[0-9a-fA-F]{3}){1,2}$"
                default:
                  type: boolean
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Information about created environment
          content:
            application/json:
              schema:
                description: Information about created environment
                "$ref": "#/components/schemas/Environment"
        '400':
          description: Failed to create an environment
          content:
            application/json:
              schema:
                description: Failed to create an environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CREATE_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [create:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [create:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    put:
      tags:
      - Environments
      description: Change environment active status
      requestBody:
        content:
          application/json:
            schema:
              type: object
              oneOf:
              - required:
                - slug
                properties:
                  slug:
                    type: string
                    isNotEmpty: true
                additionalProperties: false
              - required:
                - id
                properties:
                  id:
                    type: string
                    format: uuid
                additionalProperties: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated information about the environment
          content:
            application/json:
              schema:
                description: Updated information about the environment
                "$ref": "#/components/schemas/Environment"
        '400':
          description: Failed to update the environment
          content:
            application/json:
              schema:
                description: Failed to update the environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment not found
          content:
            application/json:
              schema:
                description: Environment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILOVER_ENVIRONMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    delete:
      tags:
      - Environments
      description: Change environment active status
      requestBody:
        content:
          application/json:
            schema:
              type: object
              oneOf:
              - required:
                - slug
                properties:
                  slug:
                    type: string
                    isNotEmpty: true
                additionalProperties: false
              - required:
                - id
                properties:
                  id:
                    type: string
                    format: uuid
                additionalProperties: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated information about the environment
          content:
            application/json:
              schema:
                description: Updated information about the environment
                "$ref": "#/components/schemas/Environment"
        '400':
          description: Failed to update the environment
          content:
            application/json:
              schema:
                description: Failed to update the environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment].
            Required scopes: [delete:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment].
                  Required scopes: [delete:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment not found
          content:
            application/json:
              schema:
                description: Environment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILOVER_ENVIRONMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environment/{idOrSlug}/default":
    put:
      tags:
      - Environments
      description: Change default environment for organization
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated information about the environment
          content:
            application/json:
              schema:
                description: Updated information about the environment
                "$ref": "#/components/schemas/Environment"
        '400':
          description: Failed to update the environment
          content:
            application/json:
              schema:
                description: Failed to update the environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment not found
          content:
            application/json:
              schema:
                description: Environment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environment/{idOrSlug}/edit":
    put:
      tags:
      - Environments
      description: Change environment color code or name
      requestBody:
        content:
          application/json:
            schema:
              type: object
              anyOf:
              - required:
                - color
              - required:
                - name
              properties:
                color:
                  type: string
                  pattern: "^#(?:[0-9a-fA-F]{3}){1,2}$"
                name:
                  type: string
                  isNotEmpty: true
              additionalProperties: false
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated information about the environment
          content:
            application/json:
              schema:
                description: Updated information about the environment
                "$ref": "#/components/schemas/Environment"
        '400':
          description: Failed to update the environment
          content:
            application/json:
              schema:
                description: Failed to update the environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment not found
          content:
            application/json:
              schema:
                description: Environment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environment/{idOrSlug}/clone":
    put:
      tags:
      - Environments
      description: Clone existing environment into new one with props and policies
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Information about cloned environment
          content:
            application/json:
              schema:
                description: Information about cloned environment
                "$ref": "#/components/schemas/Environment"
        '400':
          description: Failed to clone the environment
          content:
            application/json:
              schema:
                description: Failed to clone the environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CLONE_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [create:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [create:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment not found
          content:
            application/json:
              schema:
                description: Environment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environment/{idOrSlug}":
    delete:
      tags:
      - Environments
      description: Delete environment for organization
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated information about the environment
          content:
            application/json:
              schema:
                description: Updated information about the environment
                "$ref": "#/components/schemas/Environment"
        '400':
          description: Failed to delete the environment
          content:
            application/json:
              schema:
                description: Failed to delete the environment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_ENVIRONMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [delete:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [delete:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment not found
          content:
            application/json:
              schema:
                description: Environment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILOVER_ENVIRONMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/environment/{idOrSlug}/props":
    get:
      tags:
      - Environments
      description: List environment props
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: List of environment props
          content:
            application/json:
              schema:
                description: List of environment props
                "$ref": "#/components/schemas/Environment Props"
        '400':
          description: Failed to list environment props
          content:
            application/json:
              schema:
                description: Failed to list environment props
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_ENVIRONMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment not found
          content:
            application/json:
              schema:
                description: Environment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    post:
      tags:
      - Environments
      description: Create / Update environment props
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  name:
                    type: string
                  content:
                    type: string
                required:
                - name
                - content
                additionalProperties: false
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated environment props
          content:
            application/json:
              schema:
                description: Updated environment props
                "$ref": "#/components/schemas/Environment Props"
        '400':
          description: Failed to update environment props
          content:
            application/json:
              schema:
                description: Failed to update environment props
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_ENVIRONMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CREATE_ENVIRONMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment or prop not found
          content:
            application/json:
              schema:
                description: Environment or prop not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_PROP_NOT_FOUND
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '409':
          description: Environment prop already exists (for create only)
          content:
            application/json:
              schema:
                description: Environment prop already exists (for create only)
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 409
                    error:
                      type: string
                      enum:
                      - Conflict
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_PROP_ALREADY_EXISTS
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    put:
      tags:
      - Environments
      description: Create / Update environment props
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  name:
                    type: string
                  content:
                    type: string
                required:
                - name
                - content
                additionalProperties: false
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated environment props
          content:
            application/json:
              schema:
                description: Updated environment props
                "$ref": "#/components/schemas/Environment Props"
        '400':
          description: Failed to update environment props
          content:
            application/json:
              schema:
                description: Failed to update environment props
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_ENVIRONMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CREATE_ENVIRONMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment].
            Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment].
                  Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment or prop not found
          content:
            application/json:
              schema:
                description: Environment or prop not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_PROP_NOT_FOUND
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '409':
          description: Environment prop already exists (for create only)
          content:
            application/json:
              schema:
                description: Environment prop already exists (for create only)
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 409
                    error:
                      type: string
                      enum:
                      - Conflict
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_PROP_ALREADY_EXISTS
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    delete:
      tags:
      - Environments
      description: Delete environment props
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Updated environment props
          content:
            application/json:
              schema:
                description: Updated environment props
                "$ref": "#/components/schemas/Environment Props"
        '400':
          description: Failed to delete environment props
          content:
            application/json:
              schema:
                description: Failed to delete environment props
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DELETE_ENVIRONMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:environment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:environment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Environment or prop not found
          content:
            application/json:
              schema:
                description: Environment or prop not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_PROP_NOT_FOUND
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ENVIRONMENT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/clouds":
    get:
      tags:
      - Cloud Accounts
      description: List available cloud accounts
      parameters:
      - schema:
          type: boolean
        in: query
        name: all
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: List of available cloud accounts
          content:
            application/json:
              schema:
                description: List of available cloud accounts
                type: array
                items:
                  "$ref": "#/components/schemas/Cloud Account"
        '400':
          description: Failed to list available cloud accounts
          content:
            application/json:
              schema:
                description: Failed to list available cloud accounts
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_CLOUD_ACCOUNTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:cloud]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:cloud]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/cloud":
    post:
      tags:
      - Cloud Accounts
      description: Create cloud credentials for an organization
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - provider
              - roleArnId
              - accountId
              - cloudFormationStackId
              - externalId
              properties:
                provider:
                  type: string
                  enum:
                  - aws
                  - gcp
                  - azure
                roleArnId:
                  type: string
                  isNotEmpty: true
                cloudFormationStackId:
                  type:
                  - string
                  - 'null'
                accountSlug:
                  type: string
                accountName:
                  type: string
                accountId:
                  type: string
                  isNotEmpty: true
                environment:
                  type: string
                  isNotEmpty: true
                externalId:
                  type: string
                  isNotEmpty: true
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Created cloud account information
          content:
            application/json:
              schema:
                description: Created cloud account information
                "$ref": "#/components/schemas/Cloud Account"
        '400':
          description: Failed to create cloud account
          content:
            application/json:
              schema:
                description: Failed to create cloud account
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CREATE_CLOUD_ACCOUNT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [create:cloud]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [create:cloud]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/cloud/{idOrSlug}":
    get:
      tags:
      - Cloud Accounts
      description: Get cloud account by id / slug
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Cloud account information
          content:
            application/json:
              schema:
                description: Cloud account information
                "$ref": "#/components/schemas/Cloud Account"
        '400':
          description: Failed to retrieve cloud account
          content:
            application/json:
              schema:
                description: Failed to retrieve cloud account
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_CLOUD_ACCOUNT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:cloud]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:cloud]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Cloud account not found
          content:
            application/json:
              schema:
                description: Cloud account not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CLOUD_ACCOUNT_NOT_FOUND
                    idOrSlug:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - idOrSlug
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    delete:
      tags:
      - Cloud Accounts
      description: Delete cloud account by id / slug
      parameters:
      - schema:
          type: string
          isNotEmpty: true
        in: path
        name: idOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deletion success status
          content:
            application/json:
              schema:
                description: Deletion success status
                type: object
                properties:
                  success:
                    type: boolean
        '400':
          description: Failed to delete cloud account
          content:
            application/json:
              schema:
                description: Failed to delete cloud account
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DELETE_CLOUD_ACCOUNT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [delete:cloud]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [delete:cloud]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/setup/preflight":
    get:
      tags:
      - Setup
      description: Return preflight details for customer to setup cloud credentials
      parameters:
      - schema:
          type: string
          format: uuid
        in: query
        name: vendor
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Preflight details of a customer
          content:
            application/json:
              schema:
                description: Preflight details of a customer
                type: object
                required:
                - cloud_provider
                - arn
                - template_url
                - external_id
                - organization
                - stack_name
                properties:
                  cloud_provider:
                    type: string
                    enum:
                    - aws
                    - gcp
                    - azure
                  arn:
                    type: string
                  template_url:
                    type: string
                  external_id:
                    type: string
                  organization:
                    type: string
                  stack_name:
                    type: string
        '400':
          description: Failed to get preflight script
          content:
            application/json:
              schema:
                description: Failed to get preflight script
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_PREFLIGHT_SCRIPT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:vendor]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:vendor]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Preflight vendor not found
          content:
            application/json:
              schema:
                description: Preflight vendor not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PREFLIGHT_SCRIPT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/vendor/setup":
    post:
      tags:
      - Setup
      description: Create cloud account for a vendor from a preflight data
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - cloud
              properties:
                cloud:
                  type: object
                  required:
                  - provider
                  - roleArnId
                  - accountId
                  - cloudFormationStackId
                  - externalId
                  properties:
                    provider:
                      type: string
                      enum:
                      - aws
                      - gcp
                      - azure
                    roleArnId:
                      type: string
                      isNotEmpty: true
                    cloudFormationStackId:
                      type:
                      - string
                      - 'null'
                    accountSlug:
                      type: string
                    accountName:
                      type: string
                    accountId:
                      type: string
                      isNotEmpty: true
                    environment:
                      type: string
                      isNotEmpty: true
                    externalId:
                      type: string
                      isNotEmpty: true
                  additionalProperties: false
              additionalProperties: false
        required: true
      responses:
        '200':
          description: Created cloud account information
          content:
            application/json:
              schema:
                description: Created cloud account information
                "$ref": "#/components/schemas/Cloud Account"
        '400':
          description: Failed to create cloud account
          content:
            application/json:
              schema:
                description: Failed to create cloud account
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CREATE_CLOUD_ACCOUNT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployment/{deploymentIdOrSlug}":
    get:
      tags:
      - Deployments
      description: Return deployment information
      parameters:
      - schema:
          type: string
          enum:
          - plan
          - state
          default: plan
        in: query
        name: parse_type
        required: false
      - schema:
          type: string
        in: path
        name: deploymentIdOrSlug
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment details
          content:
            application/json:
              schema:
                description: Deployment details
                "$ref": "#/components/schemas/Deployment"
        '400':
          description: Failed to get deployment details and state
          content:
            application/json:
              schema:
                description: Failed to get deployment details and state
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_TASK_ERRORS
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployment/{deploymentId}/props":
    get:
      tags:
      - Deployments
      description: Return deployment props
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: deploymentId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment props
          content:
            application/json:
              schema:
                description: Deployment props
                "$ref": "#/components/schemas/Deployment Props"
        '400':
          description: Failed to get deployment props
          content:
            application/json:
              schema:
                description: Failed to get deployment props
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENT_PROPS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployment/{deploymentId}/image":
    get:
      tags:
      - Deployments
      description: Return deployment image
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: deploymentId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment image
          content:
            image/png:
              schema:
                type: string
                format: binary
        '400':
          description: Failed to get deployment image
          content:
            application/json:
              schema:
                description: Failed to get deployment image
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENT_IMAGE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_TASK_ERRORS
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_CONVERT_SVG_TO_PNG
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_PROCESS_SVG
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployment/{deploymentId}/approve":
    post:
      tags:
      - Deployments
      description: Approve deployment plan
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: deploymentId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment approval details
          content:
            application/json:
              schema:
                description: Deployment approval details
                type: object
                required:
                - deployment
                - parent
                - type
                - stage
                properties:
                  deployment:
                    type: string
                    format: uuid
                  parent:
                    type:
                    - 'null'
                    - string
                    format: uuid
                  type:
                    type: string
                    enum:
                    - blueprint
                    - artifact
                  stage:
                    type: string
                    enum:
                    - pending
                    - planning
                    - no_change
                    - planned
                    - plan_approved
                    - installing
                    - canceled
                    - completed
                    - error
                additionalProperties: false
        '400':
          description: Failed to approve deployment
          content:
            application/json:
              schema:
                description: Failed to approve deployment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - APPROVE_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_STATE_MISMATCH
                    currentStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                    newStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - currentStage
                  - newStage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployment/plan":
    post:
      tags:
      - Deployments
      description: Upload a deployment plan
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required:
              - plan_file
              properties:
                plan_file:
                  type: string
                  format: binary
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Plan generated successfully
          content:
            application/json:
              schema:
                description: Plan generated successfully
                "$ref": "#/components/schemas/Plan"
        '400':
          description: Failed to generate plan
          content:
            application/json:
              schema:
                description: Failed to generate plan
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PLAN_GENERATE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:deployment-plan]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:deployment-plan]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments":
    get:
      tags:
      - Deployments
      description: Return deployments information by environment
      parameters:
      - schema:
          type: string
          format: uuid
        in: query
        name: environmentId
        required: false
      - schema:
          type: string
        in: query
        name: query
        required: false
      - schema:
          type: string
          enum:
          - name
          - type
          - timestamp
          - slug
          - stage
          - environment.name
          - plannedMetadata.add
          - plannedMetadata.change
          - plannedMetadata.destroy
          - plannedResourcesMetadata.add
          - plannedResourcesMetadata.change
          - plannedResourcesMetadata.destroy
        in: query
        name: sort
        required: false
      - schema:
          type: string
          caseInsensitiveEnum:
          - DESC
          - ASC
        in: query
        name: order
        required: false
      - schema:
          type: number
        in: query
        name: offset
        required: false
      - schema:
          type: number
          minimum: 3
          maximum: 1000
        in: query
        name: limit
        required: false
      - schema:
          type: boolean
        in: query
        name: expand
        required: false
      - schema:
          type: boolean
        in: query
        name: latest
        required: false
      - schema:
          type: string
        in: query
        name: filter
        required: false
        description: 'Structure: `[key1=value1,key2=value2&value3]`. Filter by `date`
          is not supported'
      - schema:
          type: string
        in: query
        name: search
        required: false
      - schema:
          type: string
          enum:
          - pending
          - planning
          - no_change
          - planned
          - plan_approved
          - installing
          - canceled
          - completed
          - error
        in: query
        name: stage
        required: false
      - schema:
          type: boolean
        in: query
        name: archived
        required: false
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Paginated information of filtered deployments for an environment
          content:
            application/json:
              schema:
                description: Paginated information of filtered deployments for an
                  environment
                type: object
                required:
                - total
                - stats
                - list
                - filters
                - deployments_metadata
                properties:
                  total:
                    type: number
                  stats:
                    type: object
                    required:
                    - completed
                    - failed
                    properties:
                      completed:
                        type: number
                      failed:
                        type: number
                  list:
                    type: array
                    items:
                      "$ref": "#/components/schemas/Blueprint Deployment"
                  filters:
                    type: object
                    required:
                    - deployment_names
                    - stages
                    - environments
                    - users
                    properties:
                      deployment_names:
                        type: array
                        items:
                          type: string
                      stages:
                        type: array
                        items:
                          type: string
                          enum:
                          - pending
                          - planning
                          - no_change
                          - planned
                          - plan_approved
                          - installing
                          - canceled
                          - completed
                          - error
                      environments:
                        type: array
                        items:
                          type: object
                          required:
                          - id
                          - name
                          - slug
                          - color
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                            slug:
                              type: string
                            color:
                              type: string
                      users:
                        type: array
                        items:
                          "$ref": "#/components/schemas/Task User Creator"
                  deployments_metadata:
                    type: object
                    required:
                    - origin_deployment_ids
                    properties:
                      origin_deployment_ids:
                        type: array
                        items:
                          type: string
                          format: uuid
        '400':
          description: Failed to get deployments information
          content:
            application/json:
              schema:
                description: Failed to get deployments information
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_LIST_ORGANIZATION_MEMBERS
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_TASK_ERRORS
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENTS_LIST_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_SEARCH_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_ORGANIZATION
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - INVALID_PACKAGE_NAME
                    packageName:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORDER_IS_NOT_VALID
                    order:
                      type: string
                    sort:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - order
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - SORT_IS_NOT_VALID
                    sort:
                      type: string
                    order:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - sort
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILTER_IS_NOT_VALID
                    filter:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Package not found
          content:
            application/json:
              schema:
                description: Package not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ORGANIZATION_NOT_FOUND
                    organizationId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - organizationId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments/approve":
    post:
      tags:
      - Deployments
      description: Approve multiple deployments
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                format: uuid
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment approval details
          content:
            application/json:
              schema:
                description: Deployment approval details
                type: array
                items:
                  type: object
                  required:
                  - deployment
                  - parent
                  - type
                  - stage
                  properties:
                    deployment:
                      type: string
                      format: uuid
                    parent:
                      type:
                      - 'null'
                      - string
                      format: uuid
                    type:
                      type: string
                      enum:
                      - blueprint
                      - artifact
                    stage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                  additionalProperties: false
        '400':
          description: Failed to approve deployments
          content:
            application/json:
              schema:
                description: Failed to approve deployments
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - APPROVE_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - APPROVE_DEPLOYMENTS_FROM_MULTIPLE_TASKS
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_STATE_MISMATCH
                    currentStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                    newStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - currentStage
                  - newStage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: One of the deployment was not found
          content:
            application/json:
              schema:
                description: One of the deployment was not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NO_DEPLOYMENTS_TO_APPROVE
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments/cancel":
    post:
      tags:
      - Deployments
      description: Cancel deployments
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                format: uuid
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment canceled successfully
          content:
            application/json:
              schema:
                description: Deployment canceled successfully
                type: array
                items:
                  type: object
                  required:
                  - deployment
                  - parent
                  - type
                  - stage
                  properties:
                    deployment:
                      type: string
                      format: uuid
                    parent:
                      type:
                      - 'null'
                      - string
                      format: uuid
                    type:
                      type: string
                      enum:
                      - blueprint
                      - artifact
                    stage:
                      type: string
                      enum:
                      - canceled
                  additionalProperties: false
        '400':
          description: Failed to cancel deployment
          content:
            application/json:
              schema:
                description: Failed to cancel deployment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CANCEL_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - CANCEL_DEPLOYMENTS_FROM_MULTIPLE_TASKS
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_STATE_MISMATCH
                    currentStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                    newStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - currentStage
                  - newStage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NO_DEPLOYMENTS_TO_CANCEL
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments/archive":
    post:
      tags:
      - Deployments
      description: Archive deployments
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                format: uuid
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment archived successfully
          content:
            application/json:
              schema:
                description: Deployment archived successfully
                type: array
                items:
                  type: object
                  required:
                  - deployment
                  - archived
                  properties:
                    deployment:
                      type: string
                      format: uuid
                    archived:
                      type: boolean
                  additionalProperties: false
        '400':
          description: Failed to archive deployment
          content:
            application/json:
              schema:
                description: Failed to archive deployment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ARCHIVE_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENTS_NOT_IN_FINAL_STAGE
                    deployments:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          stage:
                            type: string
                            enum:
                            - pending
                            - planning
                            - no_change
                            - planned
                            - plan_approved
                            - installing
                            - canceled
                            - completed
                            - error
                        required:
                        - id
                        - stage
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deployments
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NO_DEPLOYMENTS_TO_UNARCHIVE
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NO_DEPLOYMENTS_TO_ARCHIVE
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments/unarchive":
    post:
      tags:
      - Deployments
      description: Archive deployments
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                format: uuid
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployment archived successfully
          content:
            application/json:
              schema:
                description: Deployment archived successfully
                type: array
                items:
                  type: object
                  required:
                  - deployment
                  - archived
                  properties:
                    deployment:
                      type: string
                      format: uuid
                    archived:
                      type: boolean
                  additionalProperties: false
        '400':
          description: Failed to archive deployment
          content:
            application/json:
              schema:
                description: Failed to archive deployment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - ARCHIVE_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENTS_NOT_IN_FINAL_STAGE
                    deployments:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          stage:
                            type: string
                            enum:
                            - pending
                            - planning
                            - no_change
                            - planned
                            - plan_approved
                            - installing
                            - canceled
                            - completed
                            - error
                        required:
                        - id
                        - stage
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - deployments
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [update:deployment].
            Required scopes: [update:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [update:deployment].
                  Required scopes: [update:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NO_DEPLOYMENTS_TO_UNARCHIVE
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - NO_DEPLOYMENTS_TO_ARCHIVE
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments/{deploymentId}/files":
    post:
      tags:
      - Deployments
      description: Upload deployment related files (one at a time) to cloud storage
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                plan_file:
                  type: string
                  format: binary
                state_file:
                  type: string
                  format: binary
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: deploymentId
        required: true
      security:
      - basicAuth: []
      responses:
        '200':
          description: Uploaded file url
          content:
            application/json:
              schema:
                description: Uploaded file url
                type: object
                properties:
                  planUrl:
                    type: string
                  stateUrl:
                    type: string
                additionalProperties: false
        '400':
          description: Failed to upload file for deployment
          content:
            application/json:
              schema:
                description: Failed to upload file for deployment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILE_UPLOAD_FAILED
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_FILE_UPLOAD_FAILED
                    reason:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - reason
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILE_TYPE_NOT_ALLOWED
                    file:
                      type: string
                    mimetype:
                      type: string
                    allowedExtensions:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - file
                  - mimetype
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate runtime
          content:
            application/json:
              schema:
                description: Failed to authenticate runtime
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - RUNTIME_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments/status":
    post:
      tags:
      - Deployments
      description: Get statuses for the requested Deployment IDs
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - deployments
              properties:
                deployments:
                  type: array
                  items:
                    type: string
                    format: uuid
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Deployments status
          content:
            application/json:
              schema:
                description: Deployments status
                type: array
                items:
                  "$ref": "#/components/schemas/Deployment Status"
        '400':
          description: Failed to get deployments status
          content:
            application/json:
              schema:
                description: Failed to get deployments status
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENTS_STATUS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_TASK_ERRORS
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Deployments not found
          content:
            application/json:
              schema:
                description: Deployments not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/deployments/{deploymentId}":
    post:
      tags:
      - Deployments
      description: Update deployment stage and files
      requestBody:
        content:
          application/json:
            schema:
              type: object
              oneOf:
              - type: object
                properties:
                  action:
                    type: string
                    enum:
                    - planning
                  payload:
                    type: object
                    additionalProperties: false
                required:
                - action
                additionalProperties: false
              - type: object
                properties:
                  action:
                    type: string
                    enum:
                    - no_change
                  payload:
                    type: object
                    additionalProperties: false
                required:
                - action
                additionalProperties: false
              - type: object
                properties:
                  action:
                    type: string
                    enum:
                    - planned
                  payload:
                    type: object
                    properties:
                      plan_file_url:
                        type: string
                    additionalProperties: false
                required:
                - action
                - payload
                additionalProperties: false
              - type: object
                properties:
                  action:
                    type: string
                    enum:
                    - installing
                  payload:
                    type: object
                    additionalProperties: false
                required:
                - action
                additionalProperties: false
              - type: object
                properties:
                  action:
                    type: string
                    enum:
                    - completed
                  payload:
                    type: object
                    properties:
                      state_file_url:
                        type: string
                    additionalProperties: false
                required:
                - action
                - payload
                additionalProperties: false
              - type: object
                properties:
                  action:
                    type: string
                    enum:
                    - error
                  payload:
                    type: object
                    properties:
                      error:
                        type: string
                    required:
                    - error
                    additionalProperties: false
                required:
                - action
                - payload
                additionalProperties: false
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: deploymentId
        required: true
      security:
      - basicAuth: []
      responses:
        '200':
          description: Updated deployment details
          content:
            application/json:
              schema:
                description: Updated deployment details
                "$ref": "#/components/schemas/Task Deployment"
        '400':
          description: Failed to update deployment
          content:
            application/json:
              schema:
                description: Failed to update deployment
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_UPDATE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_STATE_PARSE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_PLAN_PARSE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_STATE_MISMATCH
                    currentStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                    newStage:
                      type: string
                      enum:
                      - pending
                      - planning
                      - no_change
                      - planned
                      - plan_approved
                      - installing
                      - canceled
                      - completed
                      - error
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - currentStage
                  - newStage
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_DEPLOYMENT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate runtime
          content:
            application/json:
              schema:
                description: Failed to authenticate runtime
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - RUNTIME_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '404':
          description: Deployment not found
          content:
            application/json:
              schema:
                description: Deployment not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/task/{taskId}":
    get:
      tags:
      - Tasks
      description: Return task information
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: taskId
        required: true
      security:
      - basicAuth: []
      responses:
        '200':
          description: Task details
          content:
            application/json:
              schema:
                description: Task details
                "$ref": "#/components/schemas/Task"
        '400':
          description: Failed to get task details
          content:
            application/json:
              schema:
                description: Failed to get task details
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_USER
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate runtime
          content:
            application/json:
              schema:
                description: Failed to authenticate runtime
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - RUNTIME_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '404':
          description: Task not found
          content:
            application/json:
              schema:
                description: Task not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_FOUND
                    organizationId:
                      type: string
                    userId:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - userId
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    delete:
      tags:
      - Tasks
      description: Delete task and deployments
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: taskId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Task deleted with related deployments
          content:
            application/json:
              schema:
                description: Task deleted with related deployments
                type: object
                required:
                - task
                - deployments
                properties:
                  task:
                    type: string
                    format: uuid
                  deployments:
                    type: array
                    items:
                      type: string
                      format: uuid
                additionalProperties: false
        '400':
          description: Failed to delete task and deployments
          content:
            application/json:
              schema:
                description: Failed to delete task and deployments
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DELETE_TASK_DEPLOYMENTS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [delete:deployment]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [delete:deployment]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Task not found
          content:
            application/json:
              schema:
                description: Task not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/task/{taskId}/status":
    get:
      tags:
      - Tasks
      description: Return task status
      parameters:
      - schema:
          type: boolean
        in: query
        name: expand
        required: false
      - schema:
          type: string
          format: uuid
        in: path
        name: taskId
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Task details
          content:
            application/json:
              schema:
                description: Task details
                type: object
                properties:
                  task:
                    type: string
                    format: uuid
                  status:
                    type: string
                    enum:
                    - pending
                    - processing
                    - no_change
                    - waiting_for_input
                    - pending_install
                    - installing
                    - completed
                    - failed
                    - canceled
                  command:
                    type: string
                    enum:
                    - force_install
                    - install
                    - uninstall
                  deployments:
                    type: object
                    properties:
                      total:
                        type: number
                      states:
                        oneOf:
                        - type: object
                          properties:
                            pending:
                              type: number
                            planning:
                              type: number
                            no_change:
                              type: number
                            planned:
                              type: number
                            plan_approved:
                              type: number
                            installing:
                              type: number
                            canceled:
                              type: number
                            completed:
                              type: number
                            error:
                              type: number
                        - type: object
                          properties:
                            pending:
                              type: array
                              items:
                                type: string
                            planning:
                              type: array
                              items:
                                type: string
                            no_change:
                              type: array
                              items:
                                type: string
                            planned:
                              type: array
                              items:
                                type: string
                            plan_approved:
                              type: array
                              items:
                                type: string
                            installing:
                              type: array
                              items:
                                type: string
                            canceled:
                              type: array
                              items:
                                type: string
                            completed:
                              type: array
                              items:
                                type: string
                            error:
                              type: array
                              items:
                                type: string
                    required:
                    - total
                    - states
                  errors:
                    oneOf:
                    - type: 'null'
                    - "$ref": "#/components/schemas/Task Error"
                  created:
                    type: string
                  updated:
                    type:
                    - 'null'
                    - string
                  completed:
                    type:
                    - 'null'
                    - string
                required:
                - task
                - status
                - deployments
                - created
                - updated
                - completed
                - errors
        '400':
          description: Failed to get task status
          content:
            application/json:
              schema:
                description: Failed to get task status
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - GET_TASK_STATUS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FAILED_TO_GET_TASK_ERRORS
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:task]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:task]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '404':
          description: Task not found
          content:
            application/json:
              schema:
                description: Task not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
    post:
      tags:
      - Tasks
      description: Update task status
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum:
                  - pending
                  - planning
                  - no_change
                  - planned
                  - plan_approved
                  - installing
                  - canceled
                  - completed
                  - error
                error:
                  type: string
              required:
              - status
        required: true
      parameters:
      - schema:
          type: boolean
        in: query
        name: expand
        required: false
      - schema:
          type: string
          format: uuid
        in: path
        name: taskId
        required: true
      security:
      - basicAuth: []
      responses:
        '200':
          description: Task details
          content:
            application/json:
              schema:
                description: Task details
                type: object
                properties:
                  task:
                    type: string
                    format: uuid
                  status:
                    type: string
                    enum:
                    - pending
                    - processing
                    - no_change
                    - waiting_for_input
                    - pending_install
                    - installing
                    - completed
                    - failed
                    - canceled
                  deployments:
                    type: object
                    properties:
                      total:
                        type: number
                      states:
                        oneOf:
                        - type: object
                          properties:
                            pending:
                              type: number
                            planning:
                              type: number
                            no_change:
                              type: number
                            planned:
                              type: number
                            plan_approved:
                              type: number
                            installing:
                              type: number
                            canceled:
                              type: number
                            completed:
                              type: number
                            error:
                              type: number
                        - type: object
                          properties:
                            pending:
                              type: array
                              items:
                                type: string
                            planning:
                              type: array
                              items:
                                type: string
                            no_change:
                              type: array
                              items:
                                type: string
                            planned:
                              type: array
                              items:
                                type: string
                            plan_approved:
                              type: array
                              items:
                                type: string
                            installing:
                              type: array
                              items:
                                type: string
                            canceled:
                              type: array
                              items:
                                type: string
                            completed:
                              type: array
                              items:
                                type: string
                            error:
                              type: array
                              items:
                                type: string
                    required:
                    - total
                    - states
                  created:
                    type: string
                  updated:
                    type:
                    - 'null'
                    - string
                  completed:
                    type:
                    - 'null'
                    - string
                required:
                - task
                - status
                - deployments
                - created
                - updated
                - completed
        '400':
          description: Failed to update task status
          content:
            application/json:
              schema:
                description: Failed to update task status
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENTS_STAGE_UPDATE_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate runtime
          content:
            application/json:
              schema:
                description: Failed to authenticate runtime
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - RUNTIME_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '404':
          description: Task not found
          content:
            application/json:
              schema:
                description: Task not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/task/{taskId}/deployments":
    post:
      tags:
      - Tasks
      description: Return task information
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                oneOf:
                - type: object
                  properties:
                    package:
                      type: object
                      properties:
                        name:
                          type: string
                          isNotEmpty: true
                        version:
                          type: string
                        uniqueId:
                          type: string
                        type:
                          type: string
                          enum:
                          - blueprint
                          - artifact
                      required:
                      - name
                      - version
                      - type
                      additionalProperties: false
                    dependencies:
                      type: object
                      properties:
                        direct:
                          type:
                          - string
                          - 'null'
                          format: uuid
                      additionalProperties: false
                    parent:
                      type:
                      - string
                      - 'null'
                      format: uuid
                    action:
                      type: string
                      enum:
                      - pending
                    payload:
                      type: object
                      additionalProperties: false
                  required:
                  - action
                  - package
                  additionalProperties: false
                - type: object
                  properties:
                    package:
                      type: object
                      properties:
                        name:
                          type: string
                          isNotEmpty: true
                        version:
                          type: string
                        uniqueId:
                          type: string
                        type:
                          type: string
                          enum:
                          - blueprint
                          - artifact
                      required:
                      - name
                      - version
                      - type
                      additionalProperties: false
                    dependencies:
                      type: object
                      properties:
                        direct:
                          type:
                          - string
                          - 'null'
                          format: uuid
                      additionalProperties: false
                    parent:
                      type:
                      - string
                      - 'null'
                      format: uuid
                    action:
                      type: string
                      enum:
                      - planning
                    payload:
                      type: object
                      additionalProperties: false
                  required:
                  - action
                  - package
                  additionalProperties: false
                - type: object
                  properties:
                    package:
                      type: object
                      properties:
                        name:
                          type: string
                          isNotEmpty: true
                        version:
                          type: string
                        uniqueId:
                          type: string
                        type:
                          type: string
                          enum:
                          - blueprint
                          - artifact
                      required:
                      - name
                      - version
                      - type
                      additionalProperties: false
                    dependencies:
                      type: object
                      properties:
                        direct:
                          type:
                          - string
                          - 'null'
                          format: uuid
                      additionalProperties: false
                    parent:
                      type:
                      - string
                      - 'null'
                      format: uuid
                    action:
                      type: string
                      enum:
                      - no_change
                    payload:
                      type: object
                      additionalProperties: false
                  required:
                  - action
                  - package
                  additionalProperties: false
                - type: object
                  properties:
                    package:
                      type: object
                      properties:
                        name:
                          type: string
                          isNotEmpty: true
                        version:
                          type: string
                        uniqueId:
                          type: string
                        type:
                          type: string
                          enum:
                          - blueprint
                          - artifact
                      required:
                      - name
                      - version
                      - type
                      additionalProperties: false
                    dependencies:
                      type: object
                      properties:
                        direct:
                          type:
                          - string
                          - 'null'
                          format: uuid
                      additionalProperties: false
                    parent:
                      type:
                      - string
                      - 'null'
                      format: uuid
                    action:
                      type: string
                      enum:
                      - planned
                    payload:
                      type: object
                      properties:
                        plan_file_url:
                          type: string
                      additionalProperties: false
                  required:
                  - action
                  - package
                  - payload
                  additionalProperties: false
                - type: object
                  properties:
                    package:
                      type: object
                      properties:
                        name:
                          type: string
                          isNotEmpty: true
                        version:
                          type: string
                        uniqueId:
                          type: string
                        type:
                          type: string
                          enum:
                          - blueprint
                          - artifact
                      required:
                      - name
                      - version
                      - type
                      additionalProperties: false
                    dependencies:
                      type: object
                      properties:
                        direct:
                          type:
                          - string
                          - 'null'
                          format: uuid
                      additionalProperties: false
                    parent:
                      type:
                      - string
                      - 'null'
                      format: uuid
                    action:
                      type: string
                      enum:
                      - installing
                    payload:
                      type: object
                      additionalProperties: false
                  required:
                  - action
                  - package
                  additionalProperties: false
                - type: object
                  properties:
                    package:
                      type: object
                      properties:
                        name:
                          type: string
                          isNotEmpty: true
                        version:
                          type: string
                        uniqueId:
                          type: string
                        type:
                          type: string
                          enum:
                          - blueprint
                          - artifact
                      required:
                      - name
                      - version
                      - type
                      additionalProperties: false
                    dependencies:
                      type: object
                      properties:
                        direct:
                          type:
                          - string
                          - 'null'
                          format: uuid
                      additionalProperties: false
                    parent:
                      type:
                      - string
                      - 'null'
                      format: uuid
                    action:
                      type: string
                      enum:
                      - completed
                    payload:
                      type: object
                      properties:
                        state_file_url:
                          type: string
                      additionalProperties: false
                  required:
                  - action
                  - package
                  - payload
                  additionalProperties: false
                - type: object
                  properties:
                    package:
                      type: object
                      properties:
                        name:
                          type: string
                          isNotEmpty: true
                        version:
                          type: string
                        uniqueId:
                          type: string
                        type:
                          type: string
                          enum:
                          - blueprint
                          - artifact
                      required:
                      - name
                      - version
                      - type
                      additionalProperties: false
                    dependencies:
                      type: object
                      properties:
                        direct:
                          type:
                          - string
                          - 'null'
                          format: uuid
                      additionalProperties: false
                    parent:
                      type:
                      - string
                      - 'null'
                      format: uuid
                    action:
                      type: string
                      enum:
                      - error
                    payload:
                      type: object
                      properties:
                        error:
                          type: string
                      required:
                      - error
                      additionalProperties: false
                  required:
                  - action
                  - package
                  - payload
                  additionalProperties: false
      parameters:
      - schema:
          type: string
          format: uuid
        in: path
        name: taskId
        required: true
      security:
      - basicAuth: []
      responses:
        '200':
          description: Inserted deployment ids
          content:
            application/json:
              schema:
                description: Inserted deployment ids
                type: array
                items:
                  type: object
                  required:
                  - deployment
                  properties:
                    deployment:
                      type: string
                      format: uuid
                  additionalProperties: false
        '400':
          description: Failed to insert deployments
          content:
            application/json:
              schema:
                description: Failed to insert deployments
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - UPDATE_TASK_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENTS_BULK_INSERT_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_VALIDATION_FAILED
                    packageName:
                      type: string
                    version:
                      type: string
                    task:
                      type: string
                      format: uuid
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                  - task
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate runtime
          content:
            application/json:
              schema:
                description: Failed to authenticate runtime
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - RUNTIME_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '404':
          description: Task not found
          content:
            application/json:
              schema:
                description: Task not found
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - PACKAGE_NOT_FOUND
                    packageName:
                      type: string
                    version:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 404
                    error:
                      type: string
                      enum:
                      - Not Found
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TASK_NOT_FOUND
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '409':
          description: Deployment already exists
          content:
            application/json:
              schema:
                description: Deployment already exists
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 409
                    error:
                      type: string
                      enum:
                      - Conflict
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - DEPLOYMENT_ALREADY_EXISTS
                    packageName:
                      type: string
                    version:
                      type: string
                    task:
                      type: string
                      format: uuid
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - packageName
                  - version
                  - task
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/tasks":
    get:
      tags:
      - Tasks
      description: Return pending tasks
      security:
      - basicAuth: []
      responses:
        '200':
          description: Pending tasks list
          content:
            application/json:
              schema:
                description: Pending tasks list
                type: array
                items:
                  type: object
                  properties:
                    taskId:
                      type: string
                      format: uuid
                    token:
                      type:
                      - 'null'
                      - string
                    stage:
                      type: string
                      enum:
                      - pending
                      - processing
                      - no_change
                      - waiting_for_input
                      - pending_install
                      - installing
                      - completed
                      - failed
                      - canceled
                  required:
                  - taskId
                  - token
                  - stage
        '400':
          description: Failed to get pending tasks
          content:
            application/json:
              schema:
                description: Failed to get pending tasks
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - LIST_TASKS_FAILED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate runtime
          content:
            application/json:
              schema:
                description: Failed to authenticate runtime
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - RUNTIME_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
  "/api/v1/rescue/tf/extract":
    post:
      tags:
      - Rescue
      description: Refactor terraform project files
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required:
              - terraform
              properties:
                terraform:
                  type: string
                  format: binary
              additionalProperties: false
        required: true
      security:
      - bearerAuth: []
      responses:
        '200':
          description: Zip archive of refactored data
          content:
            application/zip:
              schema:
                type: string
                format: binary
        '400':
          description: Failed to refactor terraform
          content:
            application/json:
              schema:
                description: Failed to refactor terraform
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILE_LOAD_FAILED
                    name:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - name
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MALFORMED_BRICKS_FILE
                    packageName:
                      type: string
                    version:
                      type: string
                    reason:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - FILE_TYPE_NOT_ALLOWED
                    file:
                      type: string
                    mimetype:
                      type: string
                    allowedExtensions:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - file
                  - mimetype
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 400
                    error:
                      type: string
                      enum:
                      - Bad Request
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - BAD_REQUEST
                    description:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '401':
          description: Failed to authenticate user
          content:
            application/json:
              schema:
                description: Failed to authenticate user
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 401
                    error:
                      type: string
                      enum:
                      - Unauthorized
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - USER_NOT_AUTHORIZED
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
        '403':
          description: 'Missing required scopes. Required scopes: [read:rescue]'
          content:
            application/json:
              schema:
                description: 'Missing required scopes. Required scopes: [read:rescue]'
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 403
                    error:
                      type: string
                      enum:
                      - Forbidden
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - MISSING_REQUIRED_SCOPE
                    requiredScopes:
                      type: array
                      items:
                        type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
                  - requiredScopes
        '429':
          description: Too many requests
          content:
            application/json:
              schema:
                description: Too many requests
                oneOf:
                - type: object
                  properties:
                    statusCode:
                      type: number
                      enum:
                      - 429
                    error:
                      type: string
                      enum:
                      - Too Many Requests
                    errors:
                      type: array
                      items:
                        type: string
                    message:
                      type: string
                      enum:
                      - TOO_MANY_REQUESTS
                    time:
                      type: string
                  additionalProperties: false
                  required:
                  - statusCode
                  - error
                  - errors
                  - message
servers:
- url: https://api.bricks-dev.com
tags:
- name: Users
  description: User related end-points
- name: Organization
  description: Organization related end-points
- name: Package
  description: Package management related end-points
- name: Environments
  description: Manage deployment environments
- name: Setup
  description: Preflight setup for cloud credentials
- name: Cloud Accounts
  description: Manage cloud accounts
- name: Deployments
  description: Manage package deployments
- name: Tasks
  description: Manage and process tasks
- name: Rescue
  description: Adjust client files for bricks infrastructure
externalDocs:
  description: Find out more about Bluebricks API
  url: https://docs.bluebricks.co/bluebricks-documentation
